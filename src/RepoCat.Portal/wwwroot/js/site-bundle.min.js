function setArrowDown(n){n.removeClass("icon-arrow-up").addClass("icon-arrow-down")}function setArrowUp(n){n.removeClass("icon-arrow-down").addClass("icon-arrow-up")}function setCookie(n,t,i){var u="",r;i&&(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toUTCString());document.cookie=n+"="+(t||"")+u+"; path=/"}function getCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function eraseCookie(n){document.cookie=n+"=; Max-Age=-99999999;"}function setupAddingColumns(n){$(".add-column").off("click.rc.columns");$(".add-column").on("click.rc.columns",function(){var t=$(this).data("property");addColumn(this,t,n)})}function addColumn(n,t,i){var r=i.column('[data-column-id="'+t+'"]');r.length===0?(showOverlay(),setTimeout(function(){var r=$("#ResultsTableData").attr("data-numberofextracolumns");$("#ResultsTableData").attr("data-numberofextracolumns",parseInt(r)+1);i.destroy();$("#ResultsTable > thead > tr").append('<th data-column-id="'+t+'">'+t+"<\/th>");i.rows().nodes().to$().each(function(n,i){insertCell(t,i)});i=getProjectsTable();setupTableFeatures(i);$(n).hide();hideOverlay();addToCollectionDictionaryCookie("activeColumns",getRepositoriesKey(),t)},10)):($(n).hide(),r.visible(!0),addToCollectionDictionaryCookie("activeColumns",getRepositoriesKey(),t))}function insertCell(n,t){var r=$(t).find(".properties"),i=$(r).find(".property-name").filter(function(){return this.textContent==n}).parent().parent();i[0]!==undefined?$($.parseHTML('<td class="break-word">'+i.find(".description").text()+"<\/td>")).appendTo(t):$($.parseHTML("<td><\/td>")).appendTo(t)}function addToActiveColumns(n){addToCollectionDictionaryCookie("activeColumns",getRepositoriesKey(),n)}function removeFromActiveColumns(n){removeFromCollectionDictionaryCookie("activeColumns",getRepositoriesKey(),n)}function addHideButtonToHeader(n){!$(n).find(".column-hide").length&&$(n).data("column-id")&&!$(n).append('&nbsp;<i class="column-hide icons icon-minus" data-toggle="tooltip" title="Click to hide the column"><\/i>')}function setupHideButtons(n){$("#ResultsTable th").each(function(){addHideButtonToHeader($(this))});$(".column-hide").off("click.rc.column-hide");$(".column-hide").on("click.rc.column-hide",function(t){var i,r,u;t.preventDefault();i=$(this).parent().data("column-id");r=n.column('[data-column-id="'+i+'"]');r.visible(!1);i.startsWith("rc_")?(u=$(this).parent().text(),addHideDefaultColumnButton(r,i,u)):($('.add-column[data-property="'+i+'"').show(),removeFromCollectionDictionaryCookie("activeColumns",getRepositoriesKey(),i))})}function showColumnsFromCookies(n){var u=0,e=getRepositoriesKey(),o=JSON.parse(n),i=o[e],r,t,f;if(i){for(u=i.length,r=0;r<i.length;r++)t=i[r],$("#ResultsTable > thead > tr").append('<th data-column-id="'+t+'">'+t+"<\/th>"),$("#ResultsTable > tbody > tr").each(function(n,i){insertCell(t,i)}),f=$('.add-column[data-property="'+t+'"'),f.hide();$("#ResultsTableData").attr("data-numberofextracolumns",u)}return u}function hideDefaultColumnsFromCookies(n){var i=getFromCollectionDictionaryCookie("hiddenDefaultColumns",getRepositoriesKey()),t,r;if(i)for(t=0;t<i.length;t++)r=n.column('[data-column-id="'+i[t]+'"]'),addHideDefaultColumnButton(r,i[t],i[t].replace("rc_","")),r.visible(!1)}function getColumns(n,t){var r=[{className:"expand-table-row",orderable:t,data:null,defaultContent:""},null,null,null,null,null,null],i;if(n!==undefined)for(i=0;i<n;i++)r.push(null);return r}function addHideDefaultColumnButton(n,t,i){var r=$(".hide-default-column").first().clone(),u;r.attr("style","margin: 0px 2px; cursor: pointer;");r.attr("data-property",t);r.attr("title","Click to restore column: "+i);u=r.children("span").first();u.text(i);$(".restore-columns-row").append(r.show());addToCollectionDictionaryCookie("hiddenDefaultColumns",getRepositoriesKey(),t);r.click(function(){n.visible(!0);r.remove();removeFromCollectionDictionaryCookie("hiddenDefaultColumns",getRepositoriesKey(),t)})}function getProjectsTable(n,t){var e=performance.now(),o=$("#ResultsTableData").data("showrepositorycolumn"),r=0,u,i,f;return r=n?showColumnsFromCookies(n):parseInt($("#ResultsTableData").attr("data-numberofextracolumns")),u=t?[[0,"desc"]]:[[3,"asc"]],i=$("#ResultsTable").DataTable({pageLength:50,stateSave:!1,autoWidth:!0,processing:!0,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:u,columnDefs:[{targets:[0],visible:!0,searchable:!1,width:"2%",render:function(n,t,i,r){if(t==="sort"){var u=new $.fn.dataTable.Api(r.settings),f=u.cell({row:r.row,column:r.col}).node();n=$(f).attr("data-order")}return n}},{targets:[1],visible:!1},{targets:[2],visible:o.toUpperCase()=="TRUE"},{targets:[3],width:"25%"},{targets:[4],width:"2%"},],columns:getColumns(r,t),dom:"R<'#TopButtonsRow.row'<'col-md-1 first'l><'col-md-10 restore-columns-row'><'col-md-1 third'if>><rtip> "}),t&&$("td.expand-table-row").each(function(){$(this).html('<span class="accuracy-score" data-toggle="tooltip" title="This score indicates how relevant is this project to the search query.\r\nThe higher the better - there is no maximum defined."><i class="far fa-star d-inline"><\/i>'+Number($(this).data("order")).toFixed(2)+"<\/span>")}),setupHideButtons(i),alignSearchPanel(),hideDefaultColumnsFromCookies(i),setupSearchHighlights(),f=performance.now(),console.log("Drawing table: "+(f-e)+" milliseconds."),i}function setupSearchHighlights(){var n=null;$(".table-search").on("input",function(){clearTimeout(n);n=setTimeout(function(){markSearchPhrases()},250)})}function markSearchPhrases(){$(".projects-table-card").unmark({done:function(){$(".projects-table-card").mark($(".table-search").val(),{className:"search-mark",element:"span"});$(".projects-table-card").mark($("#searchQuery").val(),{className:"search-mark",element:"span"})}});redrawStripes()}function setupTableFeatures(n){setupRowExpanding(n);setupFiltering(n);alignTopButtonsRow();setupAddingColumns(n)}function setupRowExpanding(n){$("#ResultsTable tbody").off("click.rc.rows");$("#ResultsTable tbody").on("click.rc.rows",".expand-table-row",function(){function f(n){var t=Object.values(n);return $(t[0])}var e=$($(this).clone()),t=$(this).closest("tr").not(".child-row-shown"),i,u,r;t&&t.length!=0||(t=$(this).closest("tr").prev("tr"));i=n.row(t);i.child.isShown()?($("div.slider",i.child()).fadeOut(),i.child.hide(),$(t).fadeIn()):(u=f(i.data()),i.child(u.html()).show(),r=$(t).next("tr"),r.prepend(e),r.addClass("child-row-shown"),$("div.slider",i.child()).fadeIn(),$(t).hide(),markSearchPhrases());redrawStripes()})}function redrawStripes(){$("#ResultsTable tbody tr:visible").each(function(n){n%2==0?$(this).css("background-color","#f2f2f2"):$(this).css("background-color","#ffffff")})}function alignTopButtonsRow(){$("#TopButtonsRow").children(".first").attr("style","margin-right: 10px;");$("#TopButtonsRow").children(".third").attr("style","margin-left: -10px;")}function alignSearchPanel(){var t=$("#TableSearchDiv").empty(),n=$("#ResultsTable_filter label input").appendTo(t).wrap('<div class=\'col\'><small class=\'help-block text-secondary\' data-toggle=\'tooltip\'title=\'Filtering is a basic method for searching within a table.\r\nIt simply shows only the rows which contain a given search string anywhere in the content.\r\nContrary to the repository Search function:\r\n  - filtering does not take into account the "weights" of matches\r\n  - filtering does not change the table sorting.\r\nFor example, if looking for "Miss Universe", a project with name "Miss Universe" is more relevant than\r\na project which description states something like "This project is missing a universal template"\r\nThe search function will order the results so that more "relevant" matches are shown on the top of the list.\'>Filter table&nbsp;<\/small><\/div>');$("#ResultsTable_filter label").remove();$(n).attr("style","width: 100%;");$(n).removeClass("form-control-sm");$(n).addClass("form-control-lg");$(n).addClass("table-search");$(n).before("<i class='far fa-question-circle d-inline'><\/i>");$(n).attr("placeholder","Type to filter the table")}function showOverlay(){var n=$("#ResultsTable").closest(".card").find(".overlay");$(n).show().fadeIn()}function hideOverlay(){var n=$("#ResultsTable").closest(".card").find(".overlay");$(n).fadeOut()}function getRepositoriesKey(){return $("#ResultsTableData").attr("data-repositories")}function propertyFilter(n,t,i,r){var f=getFilters(),u,o;if(f.length===0)return!0;var s=getProperties(r),e=!0,h=function(n){var t=f[n],i=s.filter(function(n){return n.key===t.key});if(i&&i.length){if(!isAnyPropertyValueMatched(i,t))return e=!1,"break"}else if(!t.value.includes("repoCat_no_property"))return e=!1,"break"};for(u=0;u<f.length;u++)if(o=h(u),o==="break")break;return e}function isAnyPropertyValueMatched(n,t){for(var i=!1,r=0;r<n.length;r++)if(i=isSinglePropertyMatched(n[r].value,t),i)break;return i}function isSinglePropertyMatched(n,t){var i=!1;return Array.isArray(n)?t.value.forEach(function(t){t==="repoCat_empty"&&n.includes("")&&(i=!0);n.includes(t)&&(i=!0)}):t.value.forEach(function(t){t==="repoCat_empty"&&n.length===0&&(i=!0);t===n&&(i=!0)}),i}function getProperties(n){for(var i,u,r,t=1;t<=Object.keys(n).length;t++)if($(n[t]).hasClass("property")){r=n[t];break}return i=[],u=$($(r).filter(function(){return this.tagName==="DIV"})),u.each(function(){var r=$(this).find(".property-name").text(),u=$(this).find("select"),t,f,n;u.length?(t=[],$(u).children("option").each(function(){var n=$(this).text().trim();t.push(n)}),n={key:r,value:t},i.push(n)):(f=$(this).find(".description").text().trim(),n={key:r,value:f},i.push(n))}),i}function getFilters(){var n=[],t=$(".filter-active");return t?(t.each(function(){var t=$(this).val(),i;t.toString().length>0&&(i={key:$(this).data("property"),value:t},n.push(i))}),n):n}function setupFiltering(n){$(".property-filter").off("change.rc.filter");$(".property-filter").on("change.rc.filter",function(){$(this).hasClass("filter-active")&&$(this).data("inactive")!=="TRUE"&&$(this).val()!==""&&(addFilterToUrl($(this).data("property"),$(this).val()),showOverlay(),setTimeout(function(){n.draw();redrawStripes();hideOverlay()},10))});$(".filter-toggle").off("click.rc.filter");$(".filter-toggle").on("click.rc.filter",function(){var t=$(this).data("property"),i;$(this).hasClass("add-filter")&&(i=$('.property-filter[data-property="'+t+'"'),i.data("inactive","TRUE"),showFilter(i,this,t),addToCollectionDictionaryCookie("activeFilters",getRepositoriesKey(),t),i.data("inactive","FALSE"));$(this).hasClass("filter-label")&&(hideFilter(this,t,n),removeFromCollectionDictionaryCookie("activeFilters",getRepositoriesKey(),t))})}function showActiveFilters(n){if(n!==undefined&&Object.keys(n).length>0)$(".filter-toggle").each(function(t,i){for(var u,f=$(i).data("property"),r=0,e=Object.entries(n);r<e.length;r++){var o=e[r],s=o[0],h=o[1];s===f&&(u=$('.property-filter[data-property="'+s+'"'),showFilter(u,$(i),f),$(u).val(h))}});else{var t=getFromCollectionDictionaryCookie("activeFilters",getRepositoriesKey());t&&$(".filter-toggle").each(function(n,i){for(var f,r=$(i).data("property"),u=0;u<t.length;u++)t[u]===r&&(f=$('.property-filter[data-property="'+r+'"'),showFilter(f,$(i),r))})}}function showFilter(n,t){var i=$(n.closest(".filter-host"));i.appendTo($("#PropertyFilters"));i.find(".property-filter").addClass("filter-active");i.fadeIn();i.find("i.add-remove-icon").removeClass("icon-plus").addClass("icon-minus");$(t).hide();i.find("input").attr("style","width: inherit;");i.find(".badge-property-name").show();i.find(".badge-property-name").attr("title","Remove filtering option");i.find(".property-filter").trigger("change")}function hideFilter(n,t,i){var r=$($(n).closest(".filter-host"));r.hide();r.find(".property-filter").removeClass("filter-active");r.appendTo("#HiddenPropertyFilters");$('.add-filter[data-property="'+t+'"').show();showOverlay();setTimeout(function(){i.draw();hideOverlay()},10)}function initializeDeferredSelect2(){var t=performance.now(),n;$(".card").on("mouseover",".select2-deferred",function(){var n=($(this).width()+26).toString();$(this).select2({theme:"bootstrap4",placeholder:$(this).attr("placeholder"),width:n,allowClear:!1,containerCss:{display:"inline-block","font-size":"small"}})});n=performance.now();console.log("Drawing select boxes: "+(n-t)+" milliseconds.")}function intializeSelect2(){$(".select2").each(function(){var n={};$(this).hasClass("form-control-lg")&&(n={color:"#4d555d","font-size":"large"});$(this).select2({theme:"bootstrap4",placeholder:$(this).attr("placeholder"),width:"style",allowClear:Boolean($(this).data("allow-clear")),containerCss:n,templateResult:function(n){return n.id&&n.id.toString().endsWith(":*")?$('<span style="font-style: italic">'+n.text+"<\/span>"):n.text},templateSelection:function(n){return n.id&&n.id.toString().endsWith(":*")?$('<span style="font-style: italic">'+n.text+"<\/span>"):n.text}})})}function attachShowMoreTagsHandlers(){var n=".show-more-link.show-tags";$(n).off("click.rc.links");$(n).on("click.rc.links",function(){$(this).next(".tags-list").show();$(this).hide()})}function getOrganizationFromKey(n){return n.split(":")[0]}function getRepositoryFromKey(n){return n.split(":")[1]}function isItemInArray(n,t,i){if(n){var r=n.split(t);return r.includes(i)}return!1}function trimStringMidsection(n){return n}function addToCollectionDictionaryCookie(n,t,i){var o=getCookie(n),u,f,r,e;if(o){r=void 0;try{r=JSON.parse(o)}catch(s){r={}}u=r[t];u?u.some(function(n){return n===i})||u.push(i):(f=[],f.push(i),r[t]=f);setCookie(n,JSON.stringify(r))}else r={},e=[],e.push(i),r[t]=e,setCookie(n,JSON.stringify(r))}function getFromCollectionDictionaryCookie(n,t){var i=getCookie(n),r;if(i){try{r=JSON.parse(i)}catch(u){return}return r[t]}}function removeFromCollectionDictionaryCookie(n,t,i){var e=getCookie(n),f,u,r;if(e){try{f=JSON.parse(e)}catch(o){return}if(u=f[t],u){for(r=0;r<u.length;r++)u[r]===i&&(u.splice(r,1),r--);setCookie(n,JSON.stringify(f))}}}function rgbToHex(n){function i(n){return n.replace(/^\s+|\s+$/gm,"")}var t=n.substring(n.indexOf("(")).split(","),r=parseInt(i(t[0].substring(1)),10),u=parseInt(i(t[1]),10),f=parseInt(i(t[2]),10),e=parseFloat(i(t[3].substring(0,t[3].length-1))).toFixed(2);return"#"+r.toString(16)+u.toString(16)+f.toString(16)+(e*255).toString(16).substring(0,2)}function addFilterToUrl(n,t){var i=document.location.href,r=updateUrl(i,n,t);window.history.pushState(null,null,r)}function updateUrl(n,t,i){var u="&",r;return n.indexOf("?")<0&&(u="?"),r=n,r=n.indexOf(filtersParamName)===-1?n+=u+getNewFiltersString(t,i):updateExistingFiltersDefinition(n,t,i),ensureFirstCharCorrect(r)}function updateExistingFiltersDefinition(n,t,i){for(var u,f,o,s,r=n,h=n.split(/(?=[\?&]+)/),e=0;e<h.length;e++)(u=h[e],u.startsWith("?"+filtersParamName)||u.startsWith("&"+filtersParamName))&&(f=u.replace(filtersParamName+"[","").substring(1),f=f.substring(0,f.indexOf("]=")),f==encodeURIComponent(t)&&(r=r.replace(u,"")));return o="&",(r.endsWith("&")||r.endsWith("?"))&&(o=""),s=getNewFiltersString(t,i),s.length>0&&(r+=o+s),r}function ensureFirstCharCorrect(n){return n.indexOf("?")===-1&&n.indexOf("&")>=0&&(n=n.replace("&","?")),n}function getAllActiveFiltersQuery(){var n=getFilters(),t="";return n.length>0&&n.forEach(function(n){t+="&"+getNewFiltersString(n.key,n.value)}),t}function getNewFiltersString(n,t){for(var i="",r=0;r<t.length;r++)t[r].length>0&&(i+=filtersParamName+"["+encodeURIComponent(n)+"]="+encodeURIComponent(t[r])+"&");return i.endsWith("&")&&(i=i.slice(0,-1)),i}$(document).ready(function(){$(function(){$('[data-toggle="collapse"]').on("click",function(){var n=$(this).find(".toggler-icon");n.hasClass("icon-arrow-up")?setArrowDown(n):setArrowUp(n)})})});$(document).ready(function(){var n,t;$(".nav-dropdown-toggle").click(function(){var r=$(this).text().trim(),n=getCookie("openNavItems"),f=$(this).parent(),i,t,u;if(f.hasClass("open")){if(n){for(i=n.split("_+_"),t=0;t<i.length;t++)i[t]===r&&(i.splice(t,1),t--);u=i.join("_+_");setCookie("openNavItems",u)}}else n?isItemInArray(n,"_+_",r)||(n+="_+_"+r,setCookie("openNavItems",n)):setCookie("openNavItems",r)});n=getCookie("openNavItems");n&&(t=n.split("_+_"),$(".nav-dropdown-toggle").each(function(){t.includes($(this).text().trim())&&$(this).parent().addClass("open")}))});$(document).ready(function(){$.get("/Home/NavHeaderStats",function(n){$("#NavHeaderStatsContainer").replaceWith(function(){return $(n).hide().fadeIn(500)})});intializeSelect2();$(".select2-inline").parent().find(".select2-container").addClass("inline-filter")});$(document).ready(function(){$.get("/Home/NavHeaderStats",function(n){$("#NavHeaderStatsContainer").replaceWith(function(){return $(n).hide().fadeIn(500)})});$(".sidebar-minimizer").on("change",function(){setTimeout(function(){$("body").hasClass("brand-minimized sidebar-minimized")?setCookie("sidebarOpen","true"):setCookie("sidebarOpen","false")},200)});attachShowMoreTagsHandlers()});var filtersParamName="filters";