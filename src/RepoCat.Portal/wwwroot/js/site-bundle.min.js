function setArrowDown(n){n.removeClass("icon-arrow-up").addClass("icon-arrow-down")}function setArrowUp(n){n.removeClass("icon-arrow-down").addClass("icon-arrow-up")}function collapseAllToggle(n){$(n).hasClass("open")?($("div.collapse").collapse("hide"),$(n).removeClass("open"),$(n).text("Expand all"),setArrowDown($('[data-toggle="collapse"]').find(".toggler-icon"))):($("div.collapse").collapse("show"),$(n).addClass("open"),$(n).text("Collapse all"),setArrowUp($('[data-toggle="collapse"]').find(".toggler-icon")))}function getProjectsTable(){var n=performance.now(),t=$("#ResultsTableData").data("showrepositorycolumn"),i=$("#ResultsTableData").data("numberofextracolumns"),r=$("#ResultsTable").DataTable({pageLength:100,stateSave:!1,autoWidth:!0,processing:!0,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[3,"asc"]],searchPanes:{layout:"columns-4",columns:[3,4,7,8],cascadePanes:!0,viewTotal:!0,dataLength:30,dtOpts:{order:[[1,"desc"]]}},columnDefs:[{targets:[0],visible:!0,searchable:!1,width:"2%"},{targets:[1],visible:!1},{targets:[2],visible:t.toUpperCase()=="TRUE"},{targets:[3],"max-width":"15%"},{targets:[5],"max-width":"25%"},],columns:getColumns(i),dom:"R<'#SearchPanesHost'P><'#TopButtonsRow.row'<'col-md-3'l><'col-md-9'if>><rtip> "}),u=performance.now();return console.log("Drawing table: "+(u-n)+" milliseconds."),r}function getColumns(n){var t=[{className:"details-control",orderable:!1,data:null,defaultContent:""},null,null,{searchPanes:{show:!0,orthogonal:"sp"},render:function(n,t){if(t==="sp"){var i=[];return $(n).closest(".project-name").each(function(){var n=$(this).text();n=n.trim();n.length>0&&i.push(n)}),i}return n}},{searchPanes:{show:!0}},null,null,{searchPanes:{show:!0,orthogonal:"sp"},render:function(n,t){if(t==="sp"){var i=[];return $($(n),"i").each(function(){var n=$(this).text();n=n.trim();n.length>0&&i.push(n)}),i}return n}},{searchPanes:{show:!0,orthogonal:"sp"},render:function(n,t){if(t==="sp"){var i=[],r=$(n).children().closest(".description");return r.each(function(){var n=$(this).text();n=n.trim();n.length>0&&i.push(n.substring(0,40))}),i}return n}},];if(n!==undefined)for(i=0;i<n;i++)t.push(null);return t}function setupTableFeatures(n){setupRowExpanding(n);setupSearchPanes();alignSearchPanel();setupFiltering(n);alignTopButtonsRow();setupAddingColumns(n)}function format(n){var t=Object.values(n),i=$(t[0]);return i.html()}function setupRowExpanding(n){$("#ResultsTable tbody").off("click");$("#ResultsTable tbody").on("click","td.details-control",function(){var i=$(this).closest("tr"),t=n.row(i);t.child.isShown()?$("div.slider",t.child()).slideUp(function(){t.child.hide();i.removeClass("shown")}):(t.child(format(t.data())).show(),i.addClass("shown"),$("div.slider",t.child()).slideDown())})}function alignTopButtonsRow(){}function alignSearchPanel(){var t=$(".dtsp-panes.dtsp-container"),n=$("#ResultsTable_filter label input").appendTo(t).wrap("<div class='col'><\/div>");$("#ResultsTable_filter label").remove();$(n).attr("style","width: 100%;");$(n).removeClass("form-control-sm");$(n).addClass("form-control-lg");$(n).attr("placeholder","Search table content...")}function setupSearchPanes(){$("#SearchPanesCard").empty();$("#SearchPanesHost").appendTo("#SearchPanesCard");$("#SearchPanesCollapser").off("click");$("#SearchPanesCollapser").on("click",function(){$("#SearchPanesCard").hasClass("show")?($("#SearchPanesCollapser").text("Show filters"),setCookie("searchPanesOpen","false")):(setCookie("searchPanesOpen","true"),$("#SearchPanesCollapser").text("Hide filters"))})}function setupAddingColumns(n){$(".add-column").off("click");$(".add-column").on("click",function(){var t=$(this).data("property");addColumn(this,t,n);removeFromActiveFilters(t)})}function addColumn(n,t,i){var r=$("#ResultsTable").closest(".card").find(".overlay");$(r).show().fadeIn();$(n).hide();setTimeout(function(){var u=$("#ResultsTableData").data("numberofextracolumns"),n,r;$("#ResultsTableData").data("numberofextracolumns",u+1);n=performance.now();i.destroy();r=performance.now();console.log("Destroy table: "+(r-n)+" milliseconds.");n=performance.now();$("#ResultsTable > thead > tr").append("<th>"+t+"<\/th>");i.rows().nodes().to$().each(function(n,i){var u=$(i).find(".properties"),r=$(u).find(".property-name").filter(function(){return this.textContent==t}).parent().parent();r[0]!==undefined?$($.parseHTML("<td>"+r.find(".description").text()+"<\/td>")).appendTo(i):$($.parseHTML("<td><\/td>")).appendTo(i)});r=performance.now();console.log("Adding cells: "+(r-n)+" milliseconds.");i=getProjectsTable();n=performance.now();setupTableFeatures(i);r=performance.now();console.log("Table setup: "+(r-n)+" milliseconds.")},10);$(r).fadeOut()}function propertyFilter(n,t,i,r){var f=getFilters(),e,u;return f.length===0?!0:(e=getProperties(r),u=!0,f.forEach(function(n){var i=e.filter(function(t){return t.key===n.key}).find(function(){return!0}),t;if(i&&(t=!1,n.value.forEach(function(n){n===i.value&&(t=!0)}),!t)){u=!1;return}}),u)}function getProperties(n){var t=[],i=$($(n[8]).filter(function(){return this.tagName==="DIV"}));return i.each(function(){var n=$(this).find(".property-name").text(),i=$(this).find(".description").text().trim(),r={key:n,value:i};t.push(r)}),t}function getFilters(){var n=[],t=$(".filter-active");return t?(t.each(function(){var t=$(this).val(),i;t.length>0&&(i={key:$(this).data("property"),value:t},n.push(i))}),n):n}function setupFiltering(n){$(".property-filter").on("change",function(){$(this).hasClass("filter-active")&&n.draw()});$(".filter-toggle").on("click",function(){var t=$(this).data("property");$(this).hasClass("add-filter")&&(showFilter(this,t),addToActiveFilters(t));$(this).hasClass("filter-label")&&(hideFilter(this,t,n),removeFromActiveFilters(t))})}function showActiveFilters(){var t=getCookie("activeFilters"),n;t&&(n=t.split("_"),$(".filter-toggle").each(function(t,i){for(var u=$(i).data("property"),r=0;r<n.length;r++)n[r]===u&&showFilter(i,u)}))}function addToActiveFilters(n){var t=getCookie("activeFilters");t?isItemInArray(t,"_",n)||(t+="_"+n,setCookie("activeFilters",t)):setCookie("activeFilters",n)}function removeFromActiveFilters(n){var r=getCookie("activeFilters"),i,t,u;if(r){for(i=r.split("_"),t=0;t<i.length;t++)i[t]===n&&(i.splice(t,1),t--);u=i.join("_");setCookie("activeFilters",u)}}function showFilter(n,t){var i=$('.property-filter[data-property="'+t+'"').closest(".filter-host");i.appendTo($("#PropertyFilters"));i.find(".property-filter").addClass("filter-active");i.fadeIn();i.find("i").removeClass("fa-plus").addClass("fa-minus");$(n).hide();i.find("input").attr("style","width: inherit;");i.find(".badge-property-name").show();i.find(".badge-property-name").attr("title","Remove filtering option");i.find(".property-filter").trigger("change")}function hideFilter(n,t,i){var r=$($(n).closest(".filter-host"));r.hide();r.find(".property-filter").removeClass("filter-active");r.appendTo("#HiddenPropertyFilters");$('.add-filter[data-property="'+t+'"').show();i.draw()}function intializeSelect2(){$(".select2").each(function(){var n={};$(this).hasClass("form-control-lg")&&(n={color:"#4d555d","font-size":"large"});$(this).select2({theme:"bootstrap4",placeholder:$(this).attr("placeholder"),width:"style",allowClear:Boolean($(this).data("allow-clear")),containerCss:n})})}function getOrganizationFromKey(n){return n.split(":")[0]}function getRepositoryFromKey(n){return n.split(":")[1]}function getOrganizationFromKey(n){return n.split(":")[0]}function getRepositoryFromKey(n){return n.split(":")[1]}function isItemInArray(n,t,i){if(n){var r=n.split(t);return r.includes(i)}return!1}function trimStringMidsection(n){if(n.length>45){var t=n.length/2,r=n.substring(0,t),i=n.substring(t);return r.substring(0,20)+"(...)"+i.substring(i.length-20)}}$(document).ready(function(){$(function(){$('[data-toggle="collapse"]').on("click",function(){var n=$(this).find(".toggler-icon");n.hasClass("icon-arrow-up")?setArrowDown(n):setArrowUp(n)})})});$(document).ready(function(){var n,t;$(".nav-dropdown-toggle").click(function(){var r=$(this).text().trim(),n=getCookie("openNavItems"),f=$(this).parent(),i,t,u;if(f.hasClass("open")){if(n){for(i=n.split("_"),t=0;t<i.length;t++)i[t]===r&&(i.splice(t,1),t--);u=i.join("_");setCookie("openNavItems",u)}}else n?isItemInArray(n,"_",r)||(n+="_"+r,setCookie("openNavItems",n)):setCookie("openNavItems",r)});n=getCookie("openNavItems");n&&(t=n.split("_"),$(".nav-dropdown-toggle").each(function(){t.includes($(this).text().trim())&&$(this).parent().addClass("open")}))});$(document).ready(function(){$.get("/Home/NavHeaderStats",function(n){$("#NavHeaderStatsContainer").replaceWith(function(){return $(n).hide().fadeIn(500)})});intializeSelect2();$(".select2-inline").parent().find(".select2-container").addClass("inline-filter")});$(document).ready(function(){$.get("/Home/NavHeaderStats",function(n){$("#NavHeaderStatsContainer").replaceWith(function(){return $(n).hide().fadeIn(500)})});$(".sidebar-minimizer").on("click",function(){$("body").hasClass("brand-minimized sidebar-minimized")?setCookie("sidebarOpen","false"):setCookie("sidebarOpen","true")})});