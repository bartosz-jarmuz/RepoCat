{"version":3,"sources":["closetag.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","removeKeyMap","map","name","whenClosing","getOption","Pass","autoCloseCurrent","autoCloseSlash","whenOpening","ranges","listSelections","replacements","opt","i","length","empty","pos","head","tok","getTokenAt","inner","innerMode","getMode","state","mode","tagName","html","configuration","dontCloseTags","htmlDontClose","indentTags","htmlIndent","end","ch","slice","lowerTagName","toLowerCase","type","test","string","charAt","indexOf","closingTagExists","emptyTags","text","newPos","Pos","line","indent","dontIndentOnAutoClose","info","replaceRange","anchor","sel","setSelections","indentLine","autoCloseGT","addKeyMap","typingSlash","dontIndentOnSlash","replacement","start","context","getLine","replaceSelections","collection","elt","e","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","cx","onCx","prev","to","next","commands","closeTag"],"mappings":"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"}