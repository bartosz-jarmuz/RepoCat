@using RepoCat.Portal.Areas.Catalog.Models;
@model RepoCat.Portal.Areas.Catalog.Models.InteractiveStringModel
@{
    var type = Model.GetDataType();
    var displayText = Model.Text;


    string imageTag = "";
    if (!string.IsNullOrEmpty(Model.ImageClassName))
    {
        imageTag = " <i class=\"" + Model.ImageClassName + "\"></i> ";
    }
    switch (type)
    {
        case InteractiveStringModel.DataType.Text:
            @displayText
            break;
        case InteractiveStringModel.DataType.Url:
            <a href="@Model.Text" target="_blank" class="@Model.ClassName"
               data-toggle="tooltip" title="@Model.Text"
               >@Html.Raw(@imageTag) @displayText</a>
            break;
        case InteractiveStringModel.DataType.Path:
            <a href="@Url.Action("Download", "Download", new { id = Model.ProjectId, componentName = Model.ComponentName, Model.PropertyKey })"
               data-toggle="tooltip" title="@Model.Text"
               >@Html.Raw(@imageTag) @displayText</a>
            break;
        case InteractiveStringModel.DataType.Email:
            <a target="_blank" href="mailto:@(Model.Text)" class="@Model.ClassName"
               data-toggle="tooltip" title="@Model.Text"
               >@Html.Raw(@imageTag) @displayText</a>
            break;
        default:
            break;
    }

}
